(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bb2fa32"],{"2fb8":function(t,e,a){},"8cbd":function(t,e,a){"use strict";var s=a("c2df"),n=a.n(s);n.a},bb64:function(t,e,a){"use strict";var s=a("2fb8"),n=a.n(s);n.a},c2df:function(t,e,a){},eb1f:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-2",on:{dragover:function(t){t.preventDefault()},drop:t.taskReset}},[a("h6",[a("fa-icon",{attrs:{icon:"tasks"}}),t._v(" Task Stack")],1),a("ul",{staticClass:"tasks list-unstyled mb-0"},t._l(t.tasks,(function(e,s){return a("li",{key:s},[a("div",{attrs:{draggable:"true"},on:{dragstart:function(a){return t.onDragStart(e.id,a)},dragend:function(e){return t.onDragEnd(s,e)}}},[e.isDone||e.isArchived||e.isScheduled?t._e():a("task",{attrs:{task:e},on:{"days-change":function(a){return t.onDaysChange(e.id,a)}}})],1)])})),0),a("div",[t._v(t._s(t.tasksFinishedRate)+" "),a("fa-icon",{attrs:{icon:"percentage"}})],1)]),a("div",{ref:"gantt",staticClass:"col-8 gantt",on:{dragover:function(t){t.preventDefault()},drop:t.onDrop}},[a("span",{staticClass:"d-1"}),a("span",{staticClass:"d-2"}),a("span",{staticClass:"d-3"}),a("span",{staticClass:"d-4"}),a("span",{staticClass:"d-5"}),a("span",{staticClass:"d-6"}),a("span",{staticClass:"d-7"}),a("span",{staticClass:"d-8"}),a("span",{staticClass:"d-9"}),a("span",{staticClass:"d-10"}),a("h6",{staticClass:"days h-mon0"},[t._v("Mon")]),a("h6",{staticClass:"days h-tue0"},[t._v("Tue")]),a("h6",{staticClass:"days h-wed0"},[t._v("Wed")]),a("h6",{staticClass:"days h-thu0"},[t._v("Thu")]),a("h6",{staticClass:"days h-fri0"},[t._v("Fri")]),a("h6",{staticClass:"days h-mon1"},[t._v("Mon")]),a("h6",{staticClass:"days h-tue1"},[t._v("Tue")]),a("h6",{staticClass:"days h-wed1"},[t._v("Wed")]),a("h6",{staticClass:"days h-thu1"},[t._v("Thu")]),a("h6",{staticClass:"days h-fri1"},[t._v("Fri")]),t._l(t.tasks,(function(e,s){return a("fragment",[!e.isArchived&&e.isScheduled?a("div",{key:s,style:"grid-column: "+e.column+" / span "+2*e.days+"; grid-row: "+(s+2)+";",attrs:{draggable:"true"},on:{dragstart:function(a){return t.onDragStart(e.id,a)},dragend:function(e){return t.onDragEnd(s,e)}}},[a("task",{attrs:{task:e,expand:!0},on:{"days-change":function(a){return t.onDaysChange(e.id,a)},"title-change":function(a){return t.onTitleChange(e.id,a)},"toggle-done":function(a){return t.onToggleDone(e.id,a)},"toggle-archive":function(a){return t.onToggleArchive(e.id,a)}}}),a("i",{staticClass:"task-indicator",class:{"badge-danger":!e.isDone,"badge-secondary":e.isDone}})],1):t._e()])}))],2),a("div",{staticClass:"col-2"},[t._m(0),a("ul",{staticClass:"list-unstyled"},t._l(t.tasks.filter((function(t){return t.isArchived})),(function(e,s){return a("li",{key:s},[a("small",[a("span",{staticClass:"badge",class:{"badge-info":e.isDone,"badge-danger":!e.isDone}},[t._v(t._s(e.from))]),t._v(" "+t._s(e.task)),a("br"),a("i",[t._v(t._s(t.toDatetime(e.created)))])])])})),0)])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h6",[a("b",[t._v("Archived Tasks")])])}],r=(a("8e6e"),a("ac6a"),a("456d"),a("96cf"),a("3b8d")),i=a("bd86"),c=a("2f62"),o=a("c1df"),d=a.n(o),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task"},[a("div",{staticClass:"task-header"},[a("span",{staticClass:"task-label",class:{"badge-danger":!t.task.isDone,"badge-secondary":t.task.isDone},attrs:{title:"static"===t.task.from?"definition":"dynamic"===t.task.from?"functional":t.task.from}},[a("fa-icon",{attrs:{icon:"static"===t.task.from?"suitcase":"dynamic"===t.task.from?"fan":"store-alt"}})],1),t.expand?a("input",{attrs:{type:"text"},domProps:{value:t.task.task},on:{input:function(e){return t.$emit("title-change",e.target.value)}}}):a("span",[t._v(t._s(t.task.task))]),t.expand?a("label",{staticClass:"task-days-label mb-0"},[a("input",{staticClass:"task-days",attrs:{type:"number",step:".5",min:"1",max:"10"},domProps:{value:t.task.days},on:{change:function(e){return t.$emit("days-change",e.target.value)}}})]):t._e(),t.expand?a("label",{staticClass:"ml-2 mb-0"},[a("input",{staticStyle:{"vertical-align":"text-bottom"},attrs:{type:"checkbox"},on:{change:function(e){return t.$emit("toggle-done",e.target.checked)}}}),t._v(" Done\n        ")]):t._e(),t.expand?a("label",{staticClass:"ml-1 mb-0"},[a("input",{staticStyle:{"vertical-align":"text-bottom"},attrs:{type:"checkbox"},on:{change:function(e){return t.$emit("toggle-archive",e.target.checked)}}}),t._v(" Archive\n        ")]):t._e()])])},l=[],f={name:"Task",props:{expand:{type:Boolean,default:!1},task:{type:Object}}},h=f,p=(a("bb64"),a("2877")),g=Object(p["a"])(h,u,l,!1,null,"cfd6cb48",null),v=g.exports,b=a("47e3");function k(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?k(a,!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var y={name:"Tasks",computed:m({},Object(c["b"])(["tasks"]),{tasksFinishedRate:function(){var t=this.tasks.length;if(0===t)return 0;var e=this.tasks.reduce((function(t,e){return e.isDone?++t:t}),0);return(e/t*100).toFixed(0)},spanWidth:function(){return this.$refs.gantt.clientWidth/20},toDatetime:function(){return function(t){return d()(parseInt(t)).format("YYYY-MM-DD HH:mm")}}}),data:function(){return{}},methods:{calSpan:function(t){return Math.floor((t.pageX-this.$refs.gantt.offsetLeft+this.$refs.gantt.clientLeft)/this.spanWidth)+1},onDaysChange:function(t,e){this.$store.commit(b["p"],{id:t,days:e})},onTitleChange:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$db.tasks.update(e,{task:a});case 2:this.$store.commit(b["q"],{id:e,task:a});case 3:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),onToggleDone:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$db.tasks.update(e,{isDone:a});case 2:this.$store.commit(b["s"],{id:e,isDone:a});case 3:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),onToggleArchive:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$db.tasks.update(e,{isArchived:a});case 2:this.$store.commit(b["r"],{id:e,isArchived:a});case 3:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),onDragStart:function(t,e){e.dataTransfer.setData("task",t)},onDragEnd:function(t,e){e.dataTransfer.clearData()},onDrop:function(t){var e=parseInt(t.dataTransfer.getData("task"));this.$store.dispatch("taskToggleScheduled",{db:this.$db,id:e,column:this.calSpan(t),v:!0})},taskReset:function(t){var e=parseInt(t.dataTransfer.getData("task"));this.$store.dispatch("taskReset",{db:this.$db,id:e})}},components:{Task:v}},C=y,_=(a("8cbd"),Object(p["a"])(C,s,n,!1,null,"6b255d9d",null));e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-4bb2fa32.519e016c.js.map